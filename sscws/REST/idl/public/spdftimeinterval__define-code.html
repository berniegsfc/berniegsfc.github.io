<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.4 on Fri Aug  1 08:37:15 2025 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>spdftimeinterval__define.pro (SSC R2.4.14 Web Services API)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="spdftimeinterval__define.pro (SSC R2.4.14 Web Services API)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;</span>
<span class="comments">; NOSA HEADER START</span>
<span class="comments">;</span>
<span class="comments">; The contents of this file are subject to the terms of the NASA Open </span>
<span class="comments">; Source Agreement (NOSA), Version 1.3 only (the "Agreement").  You may </span>
<span class="comments">; not use this file except in compliance with the Agreement.</span>
<span class="comments">;</span>
<span class="comments">; You can obtain a copy of the agreement at</span>
<span class="comments">;   docs/NASA_Open_Source_Agreement_1.3.txt</span>
<span class="comments">;</span>
<span class="comments">; See the Agreement for the specific language governing permissions</span>
<span class="comments">; and limitations under the Agreement.</span>
<span class="comments">;</span>
<span class="comments">; When distributing Covered Code, include this NOSA HEADER in each</span>
<span class="comments">; file and include the Agreement file at </span>
<span class="comments">; docs/NASA_Open_Source_Agreement_1.3.txt.  If applicable, add the </span>
<span class="comments">; following below this NOSA HEADER, with the fields enclosed by </span>
<span class="comments">; brackets "[]" replaced with your own identifying information: </span>
<span class="comments">; Portions Copyright [yyyy] [name of copyright owner]</span>
<span class="comments">;</span>
<span class="comments">; NOSA HEADER END</span>
<span class="comments">;</span>
<span class="comments">; Copyright (c) 2010-2024 United States Government as represented by the </span>
<span class="comments">; National Aeronautics and Space Administration. No copyright is claimed </span>
<span class="comments">; in the United States under Title 17, U.S.Code. All Other Rights Reserved.</span>
<span class="comments">;</span>
<span class="comments">;</span>



<span class="comments">;+</span>
<span class="comments">; This class is an IDL representation of the TimeInterval element from </span>
<span class="comments">; the</span>
<span class="comments">; &lt;a href="https://cdaweb.gsfc.nasa.gov/">Coordinated Data Analysis </span>
<span class="comments">; System&lt;/a> (CDAS) and</span>
<span class="comments">; &lt;a href="http://sscweb.gsfc.nasa.gov/">Satellite Situation Center&lt;/a></span>
<span class="comments">; (SSC) XML schemas.</span>
<span class="comments">;</span>
<span class="comments">; Notes:</span>
<span class="comments">; &lt;ol></span>
<span class="comments">;  &lt;li>This class exists in both the CDAS and SSC web service IDL</span>
<span class="comments">;     libraries.  They should be kept identical to void incompatiblities</span>
<span class="comments">;     for clients that use both libraries simultaneously.&lt;/li></span>
<span class="comments">; &lt;/ol></span>
<span class="comments">;</span>
<span class="comments">; @copyright Copyright (c) 2010-2024 United States Government as </span>
<span class="comments">;     represented by the National Aeronautics and Space Administration.</span>
<span class="comments">;     No copyright is claimed in the United States under Title 17,</span>
<span class="comments">;     U.S.Code. All Other Rights Reserved.</span>
<span class="comments">;</span>
<span class="comments">; @author B. Harris</span>
<span class="comments">;-</span>


<span class="comments">;+</span>
<span class="comments">; Creates an SpdfTimeInterval object.</span>
<span class="comments">;</span>
<span class="comments">; @param start {in} {type=string/julday}</span>
<span class="comments">;            start time of interval.  Value may be either an</span>
<span class="comments">;            &lt;a href="https://en.wikipedia.org/wiki/ISO_8601"></span>
<span class="comments">;            ISO 8601&lt;/a> date/time string or a julday value.</span>
<span class="comments">; @param stop {in} {type=string/julday}</span>
<span class="comments">;            stop time of interval.  Value may be either an</span>
<span class="comments">;            &lt;a href="https://en.wikipedia.org/wiki/ISO_8601"></span>
<span class="comments">;            ISO 8601&lt;/a> date/time string or a julday value.</span>
<span class="comments">; @returns reference to an SpdfTimeInterval object.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::init:source"></a>function SpdfTimeInterval::init, $
    start, stop
    compile_opt idl2

    self.cdawebFormat = $
        '(I4, "/", I02, "/", I02, " ", I02, ":", I02, ":", I02)'

    self.iso8601Format = $
        '(I4, "-", I02, "-", I02, "T", I02, ":", I02, ":", F06.3, "Z")'

    self.shortIso8601Format = $
        '(I4, 1X, I2, 1X, I2, 1X, I2, 1X, I2, 1X, F06.3)'

    self.basicIso8601Format = $
        '(I4, I02, I02, "T", I02, I02, I02, "Z")'

    if (size(start, /type) eq 7) then begin

        self.start = self->getJulDayFromIso8601(start)
    endif else begin

        self.start = start
    endelse

    if size(stop, /type) eq 7 then begin

        self.stop = self->getJulDayFromIso8601(stop)
    endif else begin

        self.stop = stop
    endelse

    return, self
end


<span class="comments">;+</span>
<span class="comments">; Performs cleanup operations when this object is destroyed.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::cleanup:source"></a>pro SpdfTimeInterval::cleanup
    compile_opt idl2

end


<span class="comments">;+</span>
<span class="comments">; Get the start value.</span>
<span class="comments">;</span>
<span class="comments">; @returns julday start value.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getStart:source"></a>function SpdfTimeInterval::getStart
    compile_opt idl2

    return, self.start
end


<span class="comments">;+</span>
<span class="comments">; Sets the start value.</span>
<span class="comments">;</span>
<span class="comments">; @param value {in} {type=julday} new value</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::setStart:source"></a>pro SpdfTimeInterval::setStart, $
    value
    compile_opt idl2

    self.start = value
end


<span class="comments">;+</span>
<span class="comments">; Get the stop value.</span>
<span class="comments">;</span>
<span class="comments">; @returns julday stop value.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getStop:source"></a>function SpdfTimeInterval::getStop
    compile_opt idl2

    return, self.stop
end


<span class="comments">;+</span>
<span class="comments">; Sets the stop value.</span>
<span class="comments">;</span>
<span class="comments">; @param value {in} {type=julday} new value</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::setStop:source"></a>pro SpdfTimeInterval::setStop, $
    value
    compile_opt idl2

    self.stop = value
end


<span class="comments">;+</span>
<span class="comments">; Converts the given ISO 8601 time value string into the </span>
<span class="comments">; corresponding julday value.</span>
<span class="comments">;</span>
<span class="comments">; @param value {in} {type=string}</span>
<span class="comments">;            ISO 8601 date/time value</span>
<span class="comments">; @returns julday value corresponding to the given iso8601 value.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getJulDayFromIso8601:source"></a>function SpdfTimeInterval::getJulDayFromIso8601, $
    value
    compile_opt idl2
<span class="comments">;    compile_opt static (idl 8.3) except for self.iso8601Format constant</span>

    iso8601 = value 

    if strlen(value) eq 10 then begin

        iso8601 = value + ' 00:00:00'
    endif 

    reads, iso8601, format=self.shortIso8601Format, $
        year, month, day, hour, minute, second

    return, julday(month, day, year, hour, minute, second)
end


<span class="comments">;+</span>
<span class="comments">; Converts the given julday value into the corresponding ISO 8601 </span>
<span class="comments">; time value string.</span>
<span class="comments">;</span>
<span class="comments">; @param value {in} {type=string}</span>
<span class="comments">;     julday value.</span>
<span class="comments">; @keyword basicFormat {in} {optional} {type=boolean} {default=false}</span>
<span class="comments">;     Indicates whether the "basic" (minimal field separators) ISO 8601</span>
<span class="comments">;     format is to be returned.</span>
<span class="comments">; @returns ISO 8601 date/time value corresponding to the given </span>
<span class="comments">;     julday value.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getIso8601FromJulDay:source"></a>function SpdfTimeInterval::getIso8601FromJulDay, $
    value, $
    basicFormat = basicFormat
    compile_opt idl2
<span class="comments">;    compile_opt static (idl 8.3) except for self.iso8601Format constant</span>

    format = self.iso8601Format

    if keyword_set(basicFormat) && basicFormat then begin

        format = self.basicIso8601Format
    endif

    caldat, value, month, day, year, hour, minute, second

    return, string(year, month, day, hour, minute, second, $
                   format=format)
end


<span class="comments">;+</span>
<span class="comments">; Get the start value.</span>
<span class="comments">;</span>
<span class="comments">; @keyword basicFormat {in} {optional} {type=boolean} {default=false}</span>
<span class="comments">;     Indicates whether the "basic" (minimal field separators) ISO 8601</span>
<span class="comments">;     format is to be returned.</span>
<span class="comments">; @returns start value as an ISO 8601 string.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getIso8601Start:source"></a>function SpdfTimeInterval::getIso8601Start, $
    basicFormat = basicFormat
    compile_opt idl2

    return, self->getIso8601FromJulDay(self.start, basicFormat=basicFormat)
end


<span class="comments">;+</span>
<span class="comments">; Get the stop value.</span>
<span class="comments">;</span>
<span class="comments">; @keyword basicFormat {in} {optional} {type=boolean} {default=false}</span>
<span class="comments">;     Indicates whether the "basic" (minimal field separators) ISO 8601</span>
<span class="comments">;     format is to be returned.</span>
<span class="comments">; @returns stop value as an ISO 8601 string.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getIso8601Stop:source"></a>function SpdfTimeInterval::getIso8601Stop, $
    basicFormat = basicFormat
    compile_opt idl2

    return, self->getIso8601FromJulDay(self.stop, basicFormat=basicFormat)
end


<span class="comments">;+</span>
<span class="comments">; Get the start value.</span>
<span class="comments">;</span>
<span class="comments">; @returns start value as an cdaweb format string.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getCdawebStart:source"></a>function SpdfTimeInterval::getCdawebStart
    compile_opt idl2

    caldat, self.start, month, day, year, hour, minute, second

    return, string(year, month, day, hour, minute, second, $
                   format=self.cdawebFormat)
end


<span class="comments">;+</span>
<span class="comments">; Get the stop value.</span>
<span class="comments">;</span>
<span class="comments">; @returns stop value as an cdaweb format string.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::getCdawebStop:source"></a>function SpdfTimeInterval::getCdawebStop
    compile_opt idl2

    caldat, self.stop, month, day, year, hour, minute, second

    return, string(year, month, day, hour, minute, second, $
                   format=self.cdawebFormat)
end


<span class="comments">;+</span>
<span class="comments">; Determines if the start time is less than the stop time.</span>
<span class="comments">;</span>
<span class="comments">; @returns true if the start time is less than the stop time.</span>
<span class="comments">;             Otherwise false.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::isStartLessThanStop:source"></a>function SpdfTimeInterval::isStartLessThanStop
    compile_opt idl2

    return, self.start lt self.stop
end


<span class="comments">;+</span>
<span class="comments">; Determines if this interval is larger than one day.</span>
<span class="comments">;</span>
<span class="comments">; @returns true if this interval is larger than one day.</span>
<span class="comments">;              Otherwise false.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::isGreaterThan1Day:source"></a>function SpdfTimeInterval::isGreaterThan1Day
    compile_opt idl2

    return, (self.stop - self.start) gt 1
end


<span class="comments">;+</span>
<span class="comments">; Prints a textual representation of this object.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::print:source"></a>pro SpdfTimeInterval::print
    compile_opt idl2

    print, 'TimeInterval: ', self->getIso8601Start(), ' to ', $
           self->getIso8601Stop()
end


<span class="comments">;+</span>
<span class="comments">; Creates a TimeInterval element using the given XML DOM document with the</span>
<span class="comments">; values of this object.</span>
<span class="comments">;</span>
<span class="comments">; @param doc {in} {type=IDLffXMLDOMDocument}</span>
<span class="comments">;            document in which to create the TimeInterval element.</span>
<span class="comments">; @returns a reference to a new IDLffXMLDOMElement representation of</span>
<span class="comments">;     this object.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval::createDomElement:source"></a>function SpdfTimeInterval::createDomElement, $
    doc
    compile_opt idl2

    timeIntervalElement = doc->createElement('TimeInterval')
    startElement = doc->createElement('Start')
    ovoid = timeIntervalElement->appendChild(startElement)
    startTextNode = doc->createTextNode(self->getIso8601Start())
    ovoid = startElement->appendChild(startTextNode)
    endElement = doc->createElement('End')
    ovoid = timeIntervalElement->appendChild(endElement)
    endTextNode = doc->createTextNode(self->getIso8601Stop())
    ovoid = endElement->appendChild(endTextNode)

    return, timeIntervalElement
end


<span class="comments">;+</span>
<span class="comments">; Defines the SpdfTimeInterval class.</span>
<span class="comments">;</span>
<span class="comments">; @field start julday start value of interval.</span>
<span class="comments">; @field stop julday stop value of interval.</span>
<span class="comments">; @field cdawebFormat constant format string for a "cdaweb" time format.</span>
<span class="comments">; @field iso8601Format constant format string for an ISO 8601 value.</span>
<span class="comments">; @field shortIso8601Format short version of a constant format string </span>
<span class="comments">;            for an ISO 8601 value.</span>
<span class="comments">; @field basicIso8601Format constant format string for a "basic" (minimal</span>
<span class="comments">;     field separators) ISO 8601 value.</span>
<span class="comments">;-</span>
<a id="SpdfTimeInterval__define:source"></a>pro SpdfTimeInterval__define
    compile_opt idl2
    struct = { SpdfTimeInterval, $
        start:0d, $
        stop:0d, $
        cdawebFormat:'', $
        iso8601Format:'', $
        shortIso8601Format:'', $
        basicIso8601Format:'' $
    }
end
</code>
    </div>
  </body>
</html>