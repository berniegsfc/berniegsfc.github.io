<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.4 on Fri Aug  1 08:37:14 2025 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>spdfsscfiledescription__define.pro (SSC R2.4.14 Web Services API)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="spdfsscfiledescription__define.pro (SSC R2.4.14 Web Services API)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;</span>
<span class="comments">; NOSA HEADER START</span>
<span class="comments">;</span>
<span class="comments">; The contents of this file are subject to the terms of the NASA Open </span>
<span class="comments">; Source Agreement (NOSA), Version 1.3 only (the "Agreement").  You may </span>
<span class="comments">; not use this file except in compliance with the Agreement.</span>
<span class="comments">;</span>
<span class="comments">; You can obtain a copy of the agreement at</span>
<span class="comments">;   docs/NASA_Open_Source_Agreement_1.3.txt</span>
<span class="comments">; or </span>
<span class="comments">;   https://sscweb.gsfc.nasa.gov/WebServices/NASA_Open_Source_Agreement_1.3.txt.</span>
<span class="comments">;</span>
<span class="comments">; See the Agreement for the specific language governing permissions</span>
<span class="comments">; and limitations under the Agreement.</span>
<span class="comments">;</span>
<span class="comments">; When distributing Covered Code, include this NOSA HEADER in each</span>
<span class="comments">; file and include the Agreement file at </span>
<span class="comments">; docs/NASA_Open_Source_Agreement_1.3.txt.  If applicable, add the </span>
<span class="comments">; following below this NOSA HEADER, with the fields enclosed by </span>
<span class="comments">; brackets "[]" replaced with your own identifying information: </span>
<span class="comments">; Portions Copyright [yyyy] [name of copyright owner]</span>
<span class="comments">;</span>
<span class="comments">; NOSA HEADER END</span>
<span class="comments">;</span>
<span class="comments">; Copyright (c) 2014-2024 United States Government as represented by the </span>
<span class="comments">; National Aeronautics and Space Administration. No copyright is claimed </span>
<span class="comments">; in the United States under Title 17, U.S.Code. All Other Rights Reserved.</span>
<span class="comments">;</span>
<span class="comments">;</span>



<span class="comments">;+</span>
<span class="comments">; This class is an IDL representation of the FileDescription</span>
<span class="comments">; element from the</span>
<span class="comments">; &lt;a href="https://sscweb.gsfc.nasa.gov/">File Situation Center&lt;/a></span>
<span class="comments">; (SSC) XML schema.</span>
<span class="comments">;</span>
<span class="comments">; @copyright Copyright (c) 2014-2024 United States Government as </span>
<span class="comments">;     represented by the National Aeronautics and Space Administration.</span>
<span class="comments">;     No copyright is claimed in the United States under Title 17,</span>
<span class="comments">;     U.S.Code. All Other Rights Reserved.</span>
<span class="comments">;</span>
<span class="comments">; @author B. Harris</span>
<span class="comments">;-</span>


<span class="comments">;+</span>
<span class="comments">; Creates an SpdfSscFileDescription object.</span>
<span class="comments">;</span>
<span class="comments">; If access to the Internet is through an HTTP proxy, the caller</span>
<span class="comments">; should ensure that the HTTP_PROXY environment is correctly set</span>
<span class="comments">; before this method is called.  The HTTP_PROXY value should be of</span>
<span class="comments">; the form</span>
<span class="comments">; http://username:password@hostname:port/.</span>
<span class="comments">;</span>
<span class="comments">; @param name {in} {type=string}</span>
<span class="comments">;            file name.</span>
<span class="comments">; @param mimeType {in} {type=string}</span>
<span class="comments">;            file's MIME type.</span>
<span class="comments">; @param length {in} {type=int}</span>
<span class="comments">;            file's size in bytes.</span>
<span class="comments">; @param lastModified {in} {type=julday}</span>
<span class="comments">;            time of last modification to file.</span>
<span class="comments">; @returns reference to an SpdfSscFileDescription object.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::init:source"></a>function SpdfSscFileDescription::init, $
    name, mimeType, length, lastModified
    compile_opt idl2

    self.name = name
    self.mimeType = mimeType
    self.length = length
    self.lastModified = lastModified

    http_proxy = getenv('HTTP_PROXY')

    if strlen(http_proxy) gt 0 then begin

        proxyComponents = parse_url(http_proxy)

        self.proxy_hostname = proxyComponents.host
        self.proxy_password = proxyComponents.password
        self.proxy_port = proxyComponents.port
        self.proxy_username = proxyComponents.username

        if strlen(self.proxy_username) gt 0 then begin

            self.proxy_authentication = 3
        endif
    endif

    return, self
end


<span class="comments">;+</span>
<span class="comments">; Performs cleanup operations when this object is destroyed.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::cleanup:source"></a>pro SpdfSscFileDescription::cleanup
    compile_opt idl2

end


<span class="comments">;+</span>
<span class="comments">; Gets the name of the file.</span>
<span class="comments">;</span>
<span class="comments">; @returns name of the file.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::getName:source"></a>function SpdfSscFileDescription::getName
    compile_opt idl2

    return, self.name
end


<span class="comments">;+</span>
<span class="comments">; Gets the MIME type of the file.</span>
<span class="comments">;</span>
<span class="comments">; @returns MIME type of the file.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::getMimeType:source"></a>function SpdfSscFileDescription::getMimeType
    compile_opt idl2

    return, self.mimeType
end


<span class="comments">;+</span>
<span class="comments">; Gets the length of the file.</span>
<span class="comments">;</span>
<span class="comments">; @returns length of the file.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::getLength:source"></a>function SpdfSscFileDescription::getLength
    compile_opt idl2

    return, self.length
end


<span class="comments">;+</span>
<span class="comments">; Gets the last modified time.</span>
<span class="comments">;</span>
<span class="comments">; @returns last modified time.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::getLastModified:source"></a>function SpdfSscFileDescription::getLastModified
    compile_opt idl2

    return, self.lastModified
end


<span class="comments">;+</span>
<span class="comments">; Prints a textual representation of this object.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::print:source"></a>pro SpdfSscFileDescription::print
    compile_opt idl2

    print, '  ', self.name, ': ', self.mimeType
end


<span class="comments">;+</span>
<span class="comments">; Retrieves this file from a remote HTTP or FTP server and writes</span>
<span class="comments">; it to disk, a memory buffer, or an array of strings. The returned</span>
<span class="comments">; data is written to disk in the location specified by the FILENAME</span>
<span class="comments">; keyword. If the filename is not specified, the local name will be</span>
<span class="comments">; the same as this file's name in the current working directory.</span>
<span class="comments">;</span>
<span class="comments">; @keyword buffer {in} {optional} {type=boolean} {default=false}</span>
<span class="comments">;            if this keyword is set, the return value is a buffer</span>
<span class="comments">;            and the FILENAME keyword is ignored.</span>
<span class="comments">; @keyword filename {in} {optional} {type=string}</span>
<span class="comments">;            set this keyword equal to a string that holds the file</span>
<span class="comments">;            name and path where the retrieved file is locally stored.</span>
<span class="comments">;            If FILENAME specifies a full path, the file is stored in</span>
<span class="comments">;            the specified path.  If FILENAME specifies a relative</span>
<span class="comments">;            path, the path is relative to IDL's current working</span>
<span class="comments">;            directory.  If FILENAME is not present the file is</span>
<span class="comments">;            stored in the current working directory under the name</span>
<span class="comments">;            the basename of filename.  If FILENAME is the same</span>
<span class="comments">;            between calls, the last file received is overwritten.</span>
<span class="comments">; @keyword string_array {in} {optional} {type=boolean} {default=false}</span>
<span class="comments">;            set this keyword to treat the return value as an array</span>
<span class="comments">;            of strings. If this keyword is set, the FILENAME and</span>
<span class="comments">;            BUFFER keywords are ignored.</span>
<span class="comments">; @keyword callback_function {in} {optional} {type=string}</span>
<span class="comments">;            this keyword value is the name of the IDL function that</span>
<span class="comments">;            is to be called during this retrieval operation.  The</span>
<span class="comments">;            callbacks provide feedback to the user about the ongoing</span>
<span class="comments">;            operation, as well as provide a method to cancel an</span>
<span class="comments">;            ongoing operation. If this keyword is not set, no</span>
<span class="comments">;            callback to the caller is made.  For information on</span>
<span class="comments">;            creating a callback function, see "Using Callbacks with</span>
<span class="comments">;            the IDLnetURL Object" in the IDL documentation.</span>
<span class="comments">; @keyword callback_data {in} {optional} {type=reference}</span>
<span class="comments">;            this keyword value contains data that is passed to the</span>
<span class="comments">;            caller when a callback is made. The data contained in</span>
<span class="comments">;            this variable is defined and set by the caller. The</span>
<span class="comments">;            variable is passed, unmodified, directly to the caller</span>
<span class="comments">;            as a parameter in the callback function. If this keyword</span>
<span class="comments">;            is not set, the corresponding callback parameter's value</span>
<span class="comments">;            is undefined.</span>
<span class="comments">; @keyword sslVerifyPeer {in} {optional} {type=int} {default=1}</span>
<span class="comments">;            Specifies whether the authenticity of the peer's SSL</span>
<span class="comments">;            certificate should be verified.  When 0, the connection</span>
<span class="comments">;            succeeds regardless of what the peer SSL certificate</span>
<span class="comments">;            contains.</span>
<span class="comments">; @returns one of the following: A string containing the full path</span>
<span class="comments">;            of the file retrieved from the remote HTTP or FTP server,</span>
<span class="comments">;            A byte vector, if the BUFFER keyword is set, An array of</span>
<span class="comments">;            strings, if the STRING_ARRAY keyword is set, A null</span>
<span class="comments">;            string, if no data were returned by the method.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription::getFile:source"></a>function SpdfSscFileDescription::getFile, $
    buffer = buffer, filename = filename, $
    string_array = string_array, $
    callback_function = callback_function, $
    callback_data = callback_data, $
    sslVerifyPeer = sslVerifyPeer
    compile_opt idl2

    if n_elements(filename) eq 0 then begin

        urlComponents = parse_url(self.name)
        filename = file_basename(urlComponents.path)
    endif

    if n_elements(sslVerifyPeer) eq 0 then begin

        sslVerifyPeer = 1
    endif

    fileUrl = $
        obj_new('IDLnetUrl', $
                proxy_authentication = self.proxy_authentication, $
                proxy_hostname = self.proxy_hostname, $
                proxy_port = self.proxy_port, $
                proxy_username = self.proxy_username, $
                proxy_password = self.proxy_password, $
                ssl_verify_peer = sslVerifyPeer)

    if keyword_set(callback_function) then begin

        fileUrl -> setProperty, callback_function = callback_function
    endif

    if keyword_set(callback_data) then begin

        fileUrl -> setProperty, callback_data = callback_data
    endif

    result = fileUrl->get(buffer = buffer, filename = filename, $
                 string_array = string_array, url = self.name)

    obj_destroy, fileUrl

    return, result
end


<span class="comments">;+</span>
<span class="comments">; Defines the SpdfSscFileDescription class.</span>
<span class="comments">;</span>
<span class="comments">; @field name file name.</span>
<span class="comments">; @field mimeType file's MIME type.</span>
<span class="comments">; @field length file size in bytes.</span>
<span class="comments">; @field lastModified julday of the last time the file was modified.</span>
<span class="comments">; @field proxy_authentication IDLnetURL PROXY_AUTHENTICATION property</span>
<span class="comments">;            value.</span>
<span class="comments">; @field proxy_hostname IDLnetURL PROXY_HOSTNAME property value.</span>
<span class="comments">; @field proxy_password IDLnetURL PROXY_PASSWORD property value.</span>
<span class="comments">; @field proxy_port IDLnetURL PROXY_PORT property value.</span>
<span class="comments">; @field proxy_username IDLnetURL PROXY_USERNAME property value.</span>
<span class="comments">;-</span>
<a id="SpdfSscFileDescription__define:source"></a>pro SpdfSscFileDescription__define
    compile_opt idl2
    struct = { SpdfSscFileDescription, $
        name:'', $
        mimetype:'', $
        length:0LL, $
        lastModified:0D, $
        proxy_authentication:0, $
        proxy_hostname:'', $
        proxy_password:'', $
        proxy_port:'', $
        proxy_username:'' $
    }
end
</code>
    </div>
  </body>
</html>